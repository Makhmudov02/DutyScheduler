<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Duty Scheduler</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <meta name="theme-color" content="#101114">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app-shell">
    <header class="app-header">
      <h1 class="app-title">–î–µ–∂—É—Ä—Å—Ç–≤–∞</h1>
      <nav class="actions-inline">
        <button id="open-manage-btn" class="btn btn-ghost" title="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º">‚öôÔ∏è</button>
        <button id="copy-result" class="btn" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å">üìã</button>
        <button id="clear-btn" class="btn btn-ghost" title="–û—á–∏—Å—Ç–∏—Ç—å">‚úñ</button>
      </nav>
    </header>

    <section class="panel compact">
      <div class="shift-controls" id="shift-controls">
        <div class="shift-group">
          <button type="button" class="btn btn-small shift-btn active" data-shift="day">08:00 - 20:00</button>
          <button type="button" class="btn btn-small shift-btn" data-shift="night">20:00 - 08:00</button>
        </div>
        <div class="date-group">
          <button type="button" class="btn btn-small date-btn active" data-date="today">–°–µ–≥–æ–¥–Ω—è</button>
          <button type="button" class="btn btn-small date-btn" data-date="tomorrow">–ó–∞–≤—Ç—Ä–∞</button>
        </div>
      </div>
      <div id="team-buttons" class="buttons teams-bar"></div>
      <ul id="selection-list" class="list people-select"></ul>
    </section>

    <section class="panel output-panel">
      <h2 class="panel-title">–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
      <div id="result" class="result-box"></div>
    </section>
  </div>

  <div id="manage-modal" class="modal hidden" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header">
        <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
        <button id="close-manage-btn" class="close-btn" title="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      </div>

      <div class="manage-section">
        <h4 class="section-title">–ö–æ–º–∞–Ω–¥—ã</h4>
        <div class="manage-actions">
          <button id="add-team-btn" class="btn btn-small">–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É</button>
        </div>
        <form id="team-form" class="hidden form-inline">
          <input type="hidden" id="team-id">
          <input id="team-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" required>
            <input id="team-color" type="color" value="#7fbfff" title="–¶–≤–µ—Ç">
          <div class="form-actions">
            <button type="submit" class="btn btn-primary btn-small">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button type="button" id="cancel-team-edit" class="btn btn-ghost btn-small">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </form>
        <ul id="team-list" class="list team-list compact-list"></ul>
      </div>

      <div class="divider"></div>

      <div class="manage-section">
        <h4 class="section-title">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</h4>
        <div class="manage-actions">
          <button id="add-person-btn" class="btn btn-small">–î–æ–±–∞–≤–∏—Ç—å</button>
          <button id="export-btn" class="btn btn-ghost btn-small">–≠–∫—Å–ø–æ—Ä—Ç</button>
          <button id="import-btn" class="btn btn-ghost btn-small">–ò–º–ø–æ—Ä—Ç</button>
          <input type="file" id="import-file" accept="application/json" class="hidden">
        </div>
        <form id="person-form" class="hidden form-inline">
          <input type="hidden" id="person-original-phone">
          <input id="person-name" placeholder="–§–ò–û" required>
          <input id="person-phone" placeholder="+9989..." required>
          <div class="form-actions">
            <button type="submit" id="save-person-btn" class="btn btn-primary btn-small">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button type="button" id="cancel-edit" class="btn btn-ghost btn-small">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </form>
        <ul id="people-list" class="list manage-list compact-list"></ul>
        <small class="hint">–ó–∞–∫—Ä–æ–π—Ç–µ –æ–∫–Ω–æ ‚Äî –≥–ª–∞–≤–Ω–∞—è –æ–±–Ω–æ–≤–∏—Ç—Å—è.</small>
      </div>
    </div>
  </div>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js').catch(console.error);
    }
  </script>
  <script src="script.js"></script>
</body>
</html>